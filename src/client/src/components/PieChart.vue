<script>
import { Pie, mixins } from 'vue-chartjs';
const { reactiveProp } = mixins;

export default {
  name: "PieChart",
  extends: Pie,
  props: [
    'name',
    'chartData',
    'options',
  ],
  mounted() {
    let options = this.options || {};
    this.$nextTick(() => {
      this.renderChart(this.chartData, {
        ...options,
        responsive: true,
        maintainAspectRatio: true,
      });                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
    });
  },
  watch: {
    
    chartData: function(New, Old) {
      let options = this.options || {};
      this.renderChart(New, {
        ...options,
        responsive: true,
        maintainAspectRatio: true,
      });
    },
  }
}
</script>
